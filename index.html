# Minecraft-Pi importieren
from mcpi.minecraft import Minecraft
from mcpi import block

# Verbindung zu Minecraft herstellen
mc = Minecraft.create()

# Spielfigur an eine sichere Stelle setzen
mc.player.setPos(118, 1, 0)

# Grundfläche vorbereiten (Luft, Boden, Gras)
mc.setBlocks(-200, 0, -200, 200, 100, 200, block.AIR.id)  # Luft
mc.setBlocks(-200, -3, -200, 200, -1, 200, block.STONE.id)  # Untergrund
mc.setBlocks(-200, 0, -200, 200, 0, 200, block.GRASS.id)  # Gras

# Straße bauen
mc.setBlocks(-200, -1, -2, 200, 0, 2, block.STONE.id)

# Bordsteine links und rechts
mc.setBlocks(-200, 0, -3, 200, 0, -3, block.COBBLESTONE.id)
mc.setBlocks(-200, 0, 3, 200, 0, 3, block.COBBLESTONE.id)

# Zäune links und rechts
mc.setBlocks(-200, 1, -4, 200, 1, -4, block.FENCE.id)
mc.setBlocks(-200, 1, 4, 200, 1, 4, block.FENCE.id)

# Lücken in den Zäunen und Fußwege
for i in range(-10, 10):
    if i % 2 == 1:
        mc.setBlock(12*i, 1, 4, block.AIR.id)  # Lücke im Zaun
        mc.setBlocks(12*i, 0, 3, 12*i, 0, 15, block.STONE.id)  # Fußweg
    else:
        mc.setBlock(12*i, 1, -4, block.AIR.id)
        mc.setBlocks(12*i, 0, -3, 12*i, 0, -15, block.STONE.id)

# ===============================
# Haus wird jetzt gebaut!
# ===============================

# Position des Spielers holen
x, y, z = mc.player.getTilePos()

# Haus soll etwas hinter dem Spieler gebaut werden
haus_x = x - 6
haus_y = y
haus_z = z - 20

# Maße des Hauses
breite = 12
tiefe = 15
hoehe = 5

# Erdgeschoss außen bauen
mc.setBlocks(haus_x, haus_y, haus_z,
             haus_x + breite - 1, haus_y + hoehe - 1, haus_z + tiefe - 1,
             block.BRICK_BLOCK.id)

# Innenraum leer machen
mc.setBlocks(haus_x + 1, haus_y + 1, haus_z + 1,
             haus_x + breite - 2, haus_y + hoehe - 2, haus_z + tiefe - 2,
             block.AIR.id)

# Tür im Erdgeschoss
mc.setBlock(haus_x + breite // 2, haus_y + 1, haus_z, block.DOOR_WOOD.id)
mc.setBlock(haus_x + breite // 2, haus_y + 2, haus_z, block.DOOR_WOOD.id + 8)

# Fenster im Erdgeschoss
mc.setBlocks(haus_x + 2, haus_y + 2, haus_z, haus_x + 3, haus_y + 3, haus_z, block.GLASS.id)

# Treppe nach oben im Haus
for i in range(hoehe - 1):
    mc.setBlock(haus_x + 1 + i, haus_y + 1 + i, haus_z + 2, block.STAIRS_WOOD.id)

# 1. Stock außen bauen
mc.setBlocks(haus_x, haus_y + hoehe, haus_z,
             haus_x + breite - 1, haus_y + 2*hoehe - 1, haus_z + tiefe - 1,
             block.STONE.id)

# Innenraum im 1. Stock leer machen
mc.setBlocks(haus_x + 1, haus_y + hoehe + 1, haus_z + 1,
             haus_x + breite - 2, haus_y + 2*hoehe - 2, haus_z + tiefe - 2,
             block.AIR.id)

# Fenster im 1. Stock
mc.setBlocks(haus_x + 2, haus_y + hoehe + 2, haus_z + tiefe - 1,
             haus_x + 3, haus_y + hoehe + 3, haus_z + tiefe - 1,
             block.GLASS.id)

# Tür zum Balkon im 1. Stock
mc.setBlock(haus_x + breite // 2, haus_y + hoehe + 1, haus_z + tiefe - 1, block.DOOR_WOOD.id)
mc.setBlock(haus_x + breite // 2, haus_y + hoehe + 2, haus_z + tiefe - 1, block.DOOR_WOOD.id + 8)

# Balkon bauen
mc.setBlocks(haus_x - 1, haus_y + hoehe, haus_z + tiefe - 2,
             haus_x + breite, haus_y + hoehe, haus_z + tiefe + 2,
             block.WOOD_PLANKS.id)

# Zaun um den Balkon
mc.setBlocks(haus_x - 1, haus_y + hoehe + 1, haus_z + tiefe - 2,
             haus_x - 1, haus_y + hoehe + 2, haus_z + tiefe + 2,
             block.FENCE.id)
mc.setBlocks(haus_x + breite, haus_y + hoehe + 1, haus_z + tiefe - 2,
             haus_x + breite, haus_y + hoehe + 2, haus_z + tiefe + 2,
             block.FENCE.id)
mc.setBlocks(haus_x - 1, haus_y + hoehe + 1, haus_z + tiefe + 2,
             haus_x + breite, haus_y + hoehe + 2, haus_z + tiefe + 2,
             block.FENCE.id)

# Flachdach bauen
mc.setBlocks(haus_x - 1, haus_y + 2*hoehe, haus_z - 1,
             haus_x + breite, haus_y + 2*hoehe, haus_z + tiefe,
             block.WOOD.id)

# Spieler auf das Dach setzen (zur Kontrolle)
mc.player.setPos(haus_x + breite / 2, haus_y + 2 * hoehe + 2, haus_z + tiefe / 2)